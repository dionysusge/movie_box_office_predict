# ğŸ¬ ç”µå½±ç¥¨æˆ¿é¢„æµ‹é¡¹ç›®

**ä½œè€…**: Dionysus  
**æ—¥æœŸ**: 2025-8-12  
**ç‰ˆæœ¬**: 2.0

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäºæœºå™¨å­¦ä¹ çš„ç”µå½±ç¥¨æˆ¿é¢„æµ‹é¡¹ç›®ï¼Œä½¿ç”¨å¤šç§å…ˆè¿›çš„ç®—æ³•å’Œç‰¹å¾å·¥ç¨‹æŠ€æœ¯æ¥é¢„æµ‹ç”µå½±çš„å…¨çƒç¥¨æˆ¿æ”¶å…¥ã€‚é¡¹ç›®é‡‡ç”¨äº†XGBoostã€LightGBMã€CatBoostç­‰å¤šç§æ¨¡å‹çš„é›†æˆå­¦ä¹ æ–¹æ³•ï¼Œå¹¶é€šè¿‡ä¼˜åŒ–çš„ç‰¹å¾é€‰æ‹©ç­–ç•¥æ˜¾è‘—æå‡äº†é¢„æµ‹ç²¾åº¦ã€‚

### ğŸ¯ é¡¹ç›®ç›®æ ‡

- å‡†ç¡®é¢„æµ‹ç”µå½±å…¨çƒç¥¨æˆ¿æ”¶å…¥
- åˆ†æå½±å“ç¥¨æˆ¿çš„å…³é”®å› ç´ 
- ä¸ºç”µå½±æŠ•èµ„å†³ç­–æä¾›æ•°æ®æ”¯æŒ
- æ¢ç´¢å…ˆè¿›çš„æœºå™¨å­¦ä¹ æŠ€æœ¯åœ¨ç¥¨æˆ¿é¢„æµ‹ä¸­çš„åº”ç”¨

### ğŸ“Š æ ¸å¿ƒæŒ‡æ ‡

- **SMAPE**: ä»38.27%ä¼˜åŒ–è‡³1.66%ï¼ˆæå‡95.7%ï¼‰
- **RÂ²**: è¾¾åˆ°0.9968ï¼ˆè§£é‡Š99.68%çš„æ–¹å·®ï¼‰
- **æ¨¡å‹ç±»å‹**: é›†æˆå­¦ä¹ ï¼ˆStackingï¼‰
- **ç‰¹å¾æ•°é‡**: æ™ºèƒ½é€‰æ‹©5-20ä¸ªæœ€ä¼˜ç‰¹å¾

## ğŸš€ ä¸»è¦åŠŸèƒ½

### 1. æ•°æ®å¤„ç†ä¸ç‰¹å¾å·¥ç¨‹
- ğŸ“ˆ **é«˜çº§ç‰¹å¾å·¥ç¨‹**: äº¤äº’ç‰¹å¾ã€å¤šé¡¹å¼ç‰¹å¾ã€æ—¶é—´ç‰¹å¾
- ğŸ§¹ **æ•°æ®æ¸…æ´—**: å¼‚å¸¸å€¼æ£€æµ‹ã€ç¼ºå¤±å€¼å¤„ç†
- ğŸ­ **æƒ…æ„Ÿåˆ†æ**: åŸºäºè¯„è®ºçš„æƒ…æ„Ÿç‰¹å¾æå–
- ğŸ“ **ä¸»é¢˜å»ºæ¨¡**: ç”µå½±ä¸»é¢˜ç‰¹å¾ç”Ÿæˆ

### 2. æ™ºèƒ½ç‰¹å¾é€‰æ‹©
- ğŸ¯ **å¤šç­–ç•¥é€‰æ‹©**: å®½æ¾é˜ˆå€¼ã€ç™¾åˆ†ä½æ•°ã€å›ºå®šæ•°é‡ã€é‡è¦æ€§é˜ˆå€¼
- âš–ï¸ **æ™ºèƒ½å¹³è¡¡**: è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ç‰¹å¾æ•°é‡ï¼ˆ5-20ä¸ªï¼‰
- ğŸ” **é£é™©è¯„ä¼°**: è¿‡æ‹Ÿåˆé£é™©æ£€æµ‹å’Œé¢„è­¦
- ğŸ“Š **ç¨³å®šæ€§åˆ†æ**: ç‰¹å¾é€‰æ‹©ä¸€è‡´æ€§éªŒè¯

### 3. å…ˆè¿›å»ºæ¨¡æŠ€æœ¯
- ğŸ—ï¸ **é›†æˆå­¦ä¹ **: Stackingå¤šæ¨¡å‹èåˆ
- ğŸŒ³ **åŸºæ¨¡å‹**: XGBoostã€LightGBMã€CatBoostã€ExtraTrees
- ğŸ›ï¸ **è¶…å‚æ•°ä¼˜åŒ–**: ç½‘æ ¼æœç´¢å’Œè´å¶æ–¯ä¼˜åŒ–
- ğŸ“ˆ **ç›®æ ‡å˜é‡å˜æ¢**: å¯¹æ•°å˜æ¢ä¼˜åŒ–åˆ†å¸ƒ

### 4. æ¨¡å‹è¯„ä¼°ä¸å¯è§†åŒ–
- ğŸ“Š **å¤šæŒ‡æ ‡è¯„ä¼°**: RMSEã€MAEã€RÂ²ã€SMAPE
- ğŸ“ˆ **äº¤å‰éªŒè¯**: 5æŠ˜äº¤å‰éªŒè¯ç¡®ä¿ç¨³å®šæ€§
- ğŸ¨ **å¯è§†åŒ–åˆ†æ**: ç‰¹å¾é‡è¦æ€§ã€é¢„æµ‹vså®é™…ã€æ®‹å·®åˆ†æ
- ğŸ“‹ **æ€§èƒ½å¯¹æ¯”**: å¤šæ¨¡å‹æ€§èƒ½è¯¦ç»†å¯¹æ¯”

## ğŸ“ é¡¹ç›®ç»“æ„
æ•°æ®æ–‡ä»¶è¿‡å¤§æœªä¸Šä¼ 
```
ç”µå½±ç¥¨æˆ¿é¢„æµ‹/
â”œâ”€â”€ ğŸ“Š æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ final_modeling_dataset_all.csv      # å®Œæ•´å»ºæ¨¡æ•°æ®é›†
â”‚   â”œâ”€â”€ movies_with_sentiment_features.csv  # åŒ…å«æƒ…æ„Ÿç‰¹å¾çš„æ•°æ®
â”‚   â”œâ”€â”€ comments_with_sentiment.csv         # æƒ…æ„Ÿåˆ†æç»“æœ
â”‚   â””â”€â”€ movie_topics.csv                    # ç”µå½±ä¸»é¢˜ç‰¹å¾
â”‚
â”œâ”€â”€ ğŸ““ æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ main.ipynb                          # ä¸»è¦åˆ†æç¬”è®°æœ¬
â”‚   â”œâ”€â”€ improved_feature_selection.py       # æ”¹è¿›çš„ç‰¹å¾é€‰æ‹©æ¨¡å—
â”‚   â”œâ”€â”€ feature_selection_example.py        # ç‰¹å¾é€‰æ‹©ä½¿ç”¨ç¤ºä¾‹
â”‚   â””â”€â”€ quick_fix_feature_selection.py      # å¿«é€Ÿä¿®å¤ä»£ç 
â”‚
â”œâ”€â”€ ğŸ“ˆ å¯è§†åŒ–ç»“æœ
â”‚   â”œâ”€â”€ advanced_model_analysis.png         # é«˜çº§æ¨¡å‹åˆ†æå›¾
â”‚   â”œâ”€â”€ model_comparison_analysis.png       # æ¨¡å‹å¯¹æ¯”åˆ†æå›¾
â”‚   â””â”€â”€ sentiment_vs_gross.png              # æƒ…æ„Ÿvsç¥¨æˆ¿åˆ†æå›¾
â”‚
â”œâ”€â”€ ğŸ“š æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                           # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”‚   â”œâ”€â”€ feature_selection_analysis.md       # ç‰¹å¾é€‰æ‹©åˆ†ææ–‡æ¡£
â”‚   â””â”€â”€ ç†è§£.md                             # é¡¹ç›®ç†è§£æ–‡æ¡£
â”‚
â””â”€â”€ ğŸ› ï¸ å·¥å…·èµ„æº
    â”œâ”€â”€ stopwords/                           # åœç”¨è¯åº“
    â”œâ”€â”€ wordnet/                             # WordNetè¯å…¸
    â””â”€â”€ catboost_info/                       # CatBoostè®­ç»ƒä¿¡æ¯
```

## ğŸ”§ ç¯å¢ƒé…ç½®


### ä¾èµ–åŒ…å®‰è£…

```bash

# å®‰è£…æ ¸å¿ƒä¾èµ–
pip install pandas numpy scikit-learn xgboost lightgbm catboost
pip install matplotlib seaborn plotly
pip install nltk textblob wordcloud
pip install jupyter notebook

# å®‰è£…å¯é€‰ä¾èµ–
pip install optuna bayesian-optimization  # è¶…å‚æ•°ä¼˜åŒ–
pip install shap lime                     # æ¨¡å‹è§£é‡Š
```


## ğŸ“Š æ ¸å¿ƒç®—æ³•

### 1. ç‰¹å¾å·¥ç¨‹

#### ğŸ”¢ æ•°å€¼ç‰¹å¾å¤„ç†
```python
# å¤šé¡¹å¼ç‰¹å¾
from sklearn.preprocessing import PolynomialFeatures
poly = PolynomialFeatures(degree=2, interaction_only=True)

# äº¤äº’ç‰¹å¾
X['budget_duration'] = X['budget'] * X['duration']
X['votes_rating'] = X['imdb_score'] * X['num_voted_users']
```

#### ğŸ“ æ–‡æœ¬ç‰¹å¾å¤„ç†
```python
# æƒ…æ„Ÿåˆ†æ
from textblob import TextBlob
sentiment = TextBlob(text).sentiment.polarity

# ä¸»é¢˜å»ºæ¨¡
from sklearn.decomposition import LatentDirichletAllocation
lda = LatentDirichletAllocation(n_components=5)
```

### 2. é›†æˆå­¦ä¹ 

#### ğŸ—ï¸ Stackingæ¶æ„
```python
from sklearn.ensemble import StackingRegressor

# åŸºæ¨¡å‹
base_models = [
    ('xgb', XGBRegressor()),
    ('lgb', LGBMRegressor()),
    ('cat', CatBoostRegressor()),
    ('et', ExtraTreesRegressor())
]

# å…ƒæ¨¡å‹
stacking_model = StackingRegressor(
    estimators=base_models,
    final_estimator=Ridge(alpha=10),
    cv=5
)
```

### 3. ç‰¹å¾é€‰æ‹©ç­–ç•¥

#### ğŸ¯ å¤šç­–ç•¥èåˆ
```python
# ç­–ç•¥1: å®½æ¾é˜ˆå€¼
selector_loose = SelectFromModel(model, threshold='0.5*mean')

# ç­–ç•¥2: ç™¾åˆ†ä½æ•°
selector_percentile = SelectPercentile(f_regression, percentile=70)

# ç­–ç•¥3: å›ºå®šæ•°é‡
selector_kbest = SelectKBest(f_regression, k=12)

# æ™ºèƒ½é€‰æ‹©æœ€ä½³ç­–ç•¥
best_strategy = select_best_strategy(strategies, X_train, y_train)
```

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### ğŸ† æœ€ç»ˆç»“æœ

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹è¿›å¹…åº¦ |
|------|--------|--------|----------|
| **SMAPE** | 38.27% | 1.66% | â†“ 95.7% |
| **RMSE** | 45,000,000 | 6,818,332 | â†“ 84.8% |
| **MAE** | 25,000,000 | 1,683,885 | â†“ 93.3% |
| **RÂ²** | 0.85 | 0.9968 | â†‘ 17.3% |

### ğŸ“Š æ¨¡å‹å¯¹æ¯”

| æ¨¡å‹ | SMAPE | RÂ² | ç‰¹å¾æ•° | è®­ç»ƒæ—¶é—´ |
|------|-------|----|---------|---------|
| å•ä¸€XGBoost | 2.28% | 0.9825 | 2 | 30s |
| **é›†æˆå­¦ä¹ ** | **1.66%** | **0.9968** | **12** | **120s** |
| æ”¹è¿›ç‰¹å¾é€‰æ‹© | 1.85% | 0.9945 | 8 | 45s |

### ğŸ¯ å…³é”®æ”¹è¿›ç‚¹

1. **ç‰¹å¾é€‰æ‹©ä¼˜åŒ–**: ä»2ä¸ªç‰¹å¾å¢åŠ åˆ°8-15ä¸ªï¼Œé™ä½è¿‡æ‹Ÿåˆé£é™©
2. **é›†æˆå­¦ä¹ **: å¤šæ¨¡å‹èåˆæå‡é¢„æµ‹ç¨³å®šæ€§
3. **ç‰¹å¾å·¥ç¨‹**: é«˜çº§ç‰¹å¾å·¥ç¨‹æŒ–æ˜æ›´å¤šä¿¡æ¯
4. **ç›®æ ‡å˜æ¢**: å¯¹æ•°å˜æ¢æ”¹å–„åˆ†å¸ƒç‰¹æ€§

### æŠ€æœ¯æ–‡æ¡£
- [XGBoost Documentation](https://xgboost.readthedocs.io/)
- [LightGBM Documentation](https://lightgbm.readthedocs.io/)
- [CatBoost Documentation](https://catboost.ai/docs/)
- [Scikit-learn Documentation](https://scikit-learn.org/)

### ç›¸å…³é¡¹ç›®
- [Kaggleç”µå½±æ•°æ®é›†](https://www.kaggle.com/datasets/tmdb/tmdb-movie-metadata)
- [ç”µå½±ç¥¨æˆ¿é¢„æµ‹ç«èµ›](https://www.kaggle.com/c/tmdb-box-office-prediction)

